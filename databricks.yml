# Databricks Asset Bundle Configuration
bundle:
  git:
    origin_url: https://github.com/shettyraks/synapse-to-databricks-migration.git
    # Branch will be set per target
    # Note: bundle name is set per target to include customer

workspace:
  root_path: /Workspace/${var.customer}/synapse-migration

variables:
  customer:
    description: "Customer identifier"
  environment:
    description: "Environment name (dev, sit, uat, prod)"
  catalog:
    description: "Catalog name"
  schema_prefix:
    description: "Schema prefix for environment"

include: 
  - jobs/*.yml
  # Job configurations are now defined in domain-specific files
  # See src/*/jobs.yml for individual job definitions

targets:
  dev:
    bundle:
      name: synapse-to-databricks-migration-pands-dev
    workspace:
      root_path: /Workspace/${var.customer}/develop/synapse-migration
    git:
      branch: develop
    variables:
      customer: "PANDs"
      environment: "dev"
      catalog: "main"
      schema_prefix: "dev_"
      
  sit:
    bundle:
      name: synapse-to-databricks-migration-sit
    workspace:
      root_path:  /Workspace/${var.customer}/sit/synapse-migration
    git:
      branch: release/sit
    variables:
      customer: "CHANGE_ME"
      environment: "sit"
      catalog: "main"
      schema_prefix: "sit_"
      
  uat:
    bundle:
      name: synapse-to-databricks-migration-uat
    workspace:
      root_path:  /Workspace/${var.customer}/uat/synapse-migration
    git:
      branch: release/uat
    variables:
      customer: "CHANGE_ME"
      environment: "uat"
      catalog: "main"
      schema_prefix: "uat_"
      
  prod:
    bundle:
      name: synapse-to-databricks-migration-prod
    workspace:
      root_path:  /Workspace/${var.customer}/prod/synapse-migration
    git:
      branch: main
    variables:
      customer: "CHANGE_ME"
      environment: "prod"
      catalog: "main"
      schema_prefix: ""
